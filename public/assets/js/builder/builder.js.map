{"version":3,"sources":["appFilters.js","appController.js","app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"builder.js","sourcesContent":["var filter = angular.module('app.filters', ['ngSanitize']).filter('trustAsHtml', trustAsHTMLFilter);\r\n\r\nfunction trustAsHTMLFilter($sce) {\r\n  return $sce.trustAsHtml;\r\n}\r\n","angular.module('app.controllers', []).controller('edmController', edmController);\r\n\r\nfunction edmController($scope, $compile) {\r\n\r\n    // EDM Data\r\n    $scope.edm = getScopeValues();\r\n\r\n    //--------------------------------------------------------------------------\r\n    //=> Common\r\n    //--------------------------------------------------------------------------\r\n\r\n      // Do Template Compilation\r\n      $scope.edm.doCompile = function(scope, template) {\r\n        var template = template;\r\n        var linkFn = $compile(template);\r\n        var element = linkFn(scope);\r\n        return element;\r\n      };\r\n\r\n      // Show Properties of a Component\r\n      $scope.edm.showProperties = function(template) {\r\n        var element = $scope.edm.doCompile($scope, template);\r\n        $(\"#edm-properties\").html(element);\r\n        return false;\r\n      };\r\n\r\n    //--------------------------------------------------------------------------\r\n\r\n\r\n    //--------------------------------------------------------------------------\r\n    //=> Core Functionality\r\n    //--------------------------------------------------------------------------\r\n\r\n      // Add a Component\r\n      $scope.edm.addComponent = function(template) {\r\n        if(template=='banner') {\r\n          var totalComponents = $scope.edm.totalComponents;\r\n          var newComponent = getBannerComponentData(totalComponents);\r\n          $scope.edm.components[totalComponents] = newComponent;\r\n          $scope.edm.totalComponents++;\r\n        } else {\r\n          alert(\"ToDo\");\r\n        }\r\n      };\r\n\r\n      // Delete a Component\r\n      $scope.edm.deleteComponent = function(id) {\r\n          if(confirm(\"Are you sure to delete this component?\")) {\r\n            delete $scope.edm.components[id];\r\n            $scope.edm.showProperties('<edm-component-properties></edm-component-properties>');\r\n            alert(\"Component \" + id + \" Deleted\");\r\n          }\r\n      };\r\n\r\n      // Delete a Component\r\n      $scope.edm.uploadFile = function(file) {\r\n          console.log(file);\r\n      };\r\n\r\n      // Add Row - Bottom\r\n      $scope.edm.addRowBottom = function() {\r\n        var newRowId = $scope.edm.rows.length;\r\n        var newRow = getRowData(newRowId);\r\n\r\n        $scope.edm.rows.push(newRow);\r\n      };\r\n\r\n      // Add Column - End\r\n      $scope.edm.addColumnEnd = function(parentid) {\r\n        var newColumnId = $scope.edm.rows[parentid].columns.length;\r\n        var newColumn = getColumnData(parentid, newColumnId);\r\n\r\n        $scope.edm.rows[parentid].columns.push(newColumn);\r\n      };\r\n\r\n      // Add Banner Image\r\n      $scope.edm.addBannerImage = function(parentid, id) {\r\n        var content = $scope.edm.rows[parentid].columns[id].content;\r\n        var newContent = '<img src=\"images/rage.png\">' + content;\r\n\r\n        $scope.edm.rows[parentid].columns[id].content = newContent;\r\n      };\r\n\r\n    //--------------------------------------------------------------------------\r\n\r\n}\r\n","angular.module('edmApp', [ 'app.filters', 'app.controllers', 'app.components', 'colorpicker.module' ]);\n\n$(window).ready(function() {\n  $(\"#edm-document\").trigger(\"click\");\n});\n$(document).ready(function() {\n  $(\"body\").on(\"click\", \".edm-component\", function() {\n      $(\".edm-component\").removeClass(\"active\");\n      $(this).addClass(\"active\");\n  });\n});\n\n\n//--------------------------------------------------------------------------\n//=> Reusable Functions\n//--------------------------------------------------------------------------\n\n// Get Template URL\nfunction getTemplateURL(path) {\n  return '/user/edm/front-end-template?path=' + path;\n}\n\n// Get Banner Component Data\nfunction getBannerComponentData(id) {\n  return {\n    \"status\": \"active\",\n    \"directiveName\": \"<banner-component id=\\\"\" + id + \"\\\" edm=\\\"edm\\\"></banner-component>\",\n    \"properties\": {\n        \"src\": \"images/header.jpg\",\n        \"alt\": \"Making your world safer!\",\n        \"title\": \"Making your world safer!\"\n      }\n  };\n}\n\n// Get Row Data\nfunction getRowData(RowId) {\n  return {\n    \"id\": RowId,\n    \"columns\": [\n      {\n        \"id\":0,\n        \"backgroundColor\": \"#bc1\",\n        \"content\": \"Row \" + RowId + \" Column 1\"\n      }\n    ]\n  };\n}\n\n// Get Column Data\nfunction getColumnData(RowId, ColumnId) {\n  return {\n    \"id\": ColumnId,\n    \"backgroundColor\": \"#bc1\",\n    \"content\": \"Row \" + RowId + \" Column \" + ColumnId\n  };\n}\n"],"sourceRoot":"/source/"}