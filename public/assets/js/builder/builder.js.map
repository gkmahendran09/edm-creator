{"version":3,"sources":["appFilters.js","appController.js","app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"builder.js","sourcesContent":["angular.module('app.filters', ['ngSanitize']).filter('trustAsHtml', trustAsHTMLFilter);\r\n\r\nangular.module('app.filters').filter('assetURL', assetURLFilter);\r\n\r\nangular.module('app.filters').filter('basename', basenameFilter);\r\n\r\nangular.module('app.filters').filter('orderObjectBy', orderObjectByFilter);\r\n\r\nfunction trustAsHTMLFilter($sce) {\r\n  return $sce.trustAsHtml;\r\n}\r\n\r\nfunction assetURLFilter() {\r\n  return function(input) {\r\n      return getAssetURL(input);\r\n  }\r\n}\r\n\r\nfunction basenameFilter() {\r\n  return function(input) {\r\n      var valArr = input.split(\"/\");\r\n      var val = valArr[(valArr.length) - 1];\r\n      return val;\r\n  }\r\n}\r\n\r\nfunction orderObjectByFilter() {\r\n  return function(items, field, reverse) {\r\n    var filtered = [];\r\n    angular.forEach(items, function(item) {\r\n      filtered.push(item);\r\n    });\r\n    filtered.sort(function (a, b) {\r\n      return (a[field] > b[field] ? 1 : -1);\r\n    });\r\n    if(reverse) filtered.reverse();\r\n    return filtered;\r\n  };\r\n}\r\n","angular.module('app.controllers', []).controller('edmController', edmController);\r\n\r\nfunction edmController($scope, $compile) {\r\n\r\n    // EDM Data\r\n    $scope.edm = getScopeValues();\r\n\r\n    //--------------------------------------------------------------------------\r\n    //=> Common\r\n    //--------------------------------------------------------------------------\r\n\r\n      // Do Template Compilation\r\n      $scope.edm.doCompile = function(scope, template) {\r\n        var template = template;\r\n        var linkFn = $compile(template);\r\n        var element = linkFn(scope);\r\n        return element;\r\n      };\r\n\r\n      // Show Properties of a Component\r\n      $scope.edm.showProperties = function(template) {\r\n        var element = $scope.edm.doCompile($scope, template);\r\n        $(\"#edm-properties\").html(element);\r\n        return false;\r\n      };\r\n\r\n    //--------------------------------------------------------------------------\r\n\r\n\r\n    //--------------------------------------------------------------------------\r\n    //=> Helpers\r\n    //--------------------------------------------------------------------------\r\n\r\n\r\n    //--------------------------------------------------------------------------\r\n\r\n    //--------------------------------------------------------------------------\r\n    //=> Core Functionality\r\n    //--------------------------------------------------------------------------\r\n\r\n      // Add a Component\r\n      $scope.edm.addComponent = function(template) {\r\n        if(template=='banner') {\r\n          var lastComponentId = $scope.edm.lastComponentId;\r\n          var newComponent = getBannerComponentData(lastComponentId);\r\n          $scope.edm.components[lastComponentId] = newComponent;\r\n          $scope.edm.lastComponentId++;\r\n        } else {\r\n          alert(\"ToDo\");\r\n        }\r\n      };\r\n\r\n      // Delete a Component\r\n      $scope.edm.deleteComponent = function(id) {\r\n          if(confirm(\"Are you sure to delete this component?\")) {\r\n            delete $scope.edm.components[id];\r\n            $scope.edm.totalComponents--;\r\n            $scope.edm.showProperties('<rgedm-edm-component-properties></rgedm-edm-component-properties>');\r\n            alert(\"Component \" + id + \" Deleted\");\r\n          }\r\n      };\r\n\r\n      // Move Up a Component\r\n      $scope.edm.moveUp = function(orderId) {\r\n        var currentOrderId  = orderId;\r\n        var prevOrderId     = orderId - 1;\r\n\r\n        angular.forEach($scope.edm.components, function(component) {\r\n          if(component.order == currentOrderId) {\r\n              component.order = prevOrderId;\r\n          }\r\n          else if(component.order == prevOrderId) {\r\n            component.order = currentOrderId;\r\n          }\r\n        });\r\n      };\r\n\r\n      // Move Down a Component\r\n      $scope.edm.moveDown = function(orderId) {\r\n          var currentOrderId  = orderId;\r\n          var nextOrderId     = orderId + 1;\r\n\r\n          angular.forEach($scope.edm.components, function(component) {\r\n            if(component.order == currentOrderId) {\r\n                component.order = nextOrderId;\r\n            }\r\n            else if(component.order == nextOrderId) {\r\n              component.order = currentOrderId;\r\n            }\r\n          });\r\n      };\r\n\r\n    //--------------------------------------------------------------------------\r\n\r\n}\r\n","angular.module('edmApp', [ 'app.filters', 'app.controllers', 'app.components', 'colorpicker.module' ]);\n\n$(window).ready(function() {\n  $(\"#edm-document\").trigger(\"click\");\n});\n$(document).ready(function() {\n  $(\"body\").on(\"click\", \".edm-component\", function() {\n      $(\".edm-component\").removeClass(\"active\");\n      $(this).addClass(\"active\");\n  });\n});\n\n\n//--------------------------------------------------------------------------\n//=> Reusable Functions\n//--------------------------------------------------------------------------\n\n// Get Asset URL\nfunction getAssetURL(path) {\n  return '/user/edm/front-end-asset?path=' + path;\n}\n\n// Get Template URL\nfunction getTemplateURL(path) {\n  return '/user/edm/front-end-template?path=' + path;\n}\n\n// Get Banner Component Data\nfunction getBannerComponentData(id) {\n  return {    \n    \"directiveName\": \"<rgedm-banner-component id=\\\"\" + id + \"\\\" edm=\\\"edm\\\"></rgedm-banner-component>\",\n    \"properties\": {\n        \"src\": \"images/header.jpg\",\n        \"alt\": \"Making your world safer!\",\n        \"title\": \"Making your world safer!\"\n      }\n  };\n}\n\n// Get Row Data\nfunction getRowData(RowId) {\n  return {\n    \"id\": RowId,\n    \"columns\": [\n      {\n        \"id\":0,\n        \"backgroundColor\": \"#bc1\",\n        \"content\": \"Row \" + RowId + \" Column 1\"\n      }\n    ]\n  };\n}\n\n// Get Column Data\nfunction getColumnData(RowId, ColumnId) {\n  return {\n    \"id\": ColumnId,\n    \"backgroundColor\": \"#bc1\",\n    \"content\": \"Row \" + RowId + \" Column \" + ColumnId\n  };\n}\n"],"sourceRoot":"/source/"}